version: "3.2"
services:
    rabbitmq-server:
        image: rabbitmq
        ports: 
          - 5672:5672

    sender-service:
        build: ./sender
        depends_on:
            - rabbitmq-server
        volumes:
            - './sender-service:/sender-service'

    receiver-service:
        build: ./receiver
        depends_on:
            - rabbitmq-server
        tty: true
        volumes:
            - './receiver-service:/receiver-service'

# Host volumes used to store code.
volumes:
    sender-service:
    receiver-service: